(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goodInfo3/goodInfo3"],{"0b46":function(o,t,n){},4184:function(o,t,n){"use strict";var e=n("0b46"),s=n.n(e);s.a},"898a":function(o,t,n){"use strict";(function(o,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={data:function(){return{code:"",info:{},goodInfo:{},selInfo:null,isshowOrder:!1,showPhone:!1,vip_code:"",goodInfo1:[[],[],[],[],[],[],[]],goodInfo1SpaceName:["压缩机品牌","单台压缩机功率","压缩机数量","应用温度","电压工况","制冷剂","压缩机型号"],goodInfo1Sel:["","","","","","",""],priaceData:{id:"",num:1,remark:""},goodPrice:"",buyType:1}},onLoad:function(t){this.vip_code=o.getStorageSync("userInfo").vip_code,this.goodInfo=o.getStorageSync("goodInfo"),this.code=t.code,this.getInfo();var n=o.getStorageSync("goodInfo1Sel"+this.goodInfo.code),e=o.getStorageSync("goodPrice"+this.goodInfo.code),s=o.getStorageSync("goodInfoSpaceLogin"+this.goodInfo.code),i=o.getStorageSync("priaceData"+this.goodInfo.code),a=o.getStorageSync("gooodInfoLogin");a&&(n&&(this.goodInfo1Sel=n),e&&(this.goodPrice=e),s&&(this.goodInfo1=s),i&&(this.priaceData=i))},onShow:function(){this.userInfo=o.getStorageSync("userInfo")},methods:{toNumClick:function(o){var t=this.priaceData.num;1==o?t+=1:t<2?t=1:t-=1,this.priaceData.num=t,this.$forceUpdate()},preventTouchMove:function(){},toSubmit:function(o){for(var t=!0,n=0;n<this.goodInfo1Sel.length;n++)""==this.goodInfo1Sel[n]&&(t=!1);if(!t)return this.$tools.showToast("请选择完规格，再操作"),!1;this.buyType=o,this.isshowOrder=!0},confirmOrder1:function(){var t=this,n=o.getStorageSync("userInfo");if(!n)return this.$tools.showToast("请先完善资料"),o.setStorageSync("goodInfo1Sel",this.goodInfo1Sel),o.setStorageSync("goodPrice",this.goodPrice),o.setStorageSync("goodInfoSpaceLogin"+this.goodInfo.code,this.goodInfo1),o.setStorageSync("gooodInfoLogin",this.goodInfo),o.setStorageSync("priaceData"+this.goodInfo.code,this.priaceData),setTimeout((function(t){o.navigateTo({url:"/pages/updateUserInfo/updateUserInfo"})}),1e3),!1;if(!n.nickname||""==n.nickname)return this.$tools.showToast("请先完善资料"),o.setStorageSync("goodInfo1Sel",this.goodInfo1Sel),o.setStorageSync("goodPrice",this.goodPrice),o.setStorageSync("goodInfoSpaceLogin"+this.goodInfo.code,this.goodInfo1),o.setStorageSync("gooodInfoLogin",this.goodInfo),o.setStorageSync("priaceData"+this.goodInfo.code,this.priaceData),setTimeout((function(t){o.navigateTo({url:"/pages/updateUserInfo/updateUserInfo"})}),1e3),!1;for(var e=!0,s=0;s<this.goodInfo1Sel.length;s++)""==this.goodInfo1Sel[s]&&(e=!1);if(!e)return this.$tools.showToast("请选择完规格，再操作"),!1;if(this.priaceData.num<=0||""==this.priaceData.num)return this.$tools.showToast("请输入购买数量，再操作"),!1;var i={openid1:o.getStorageSync("userInfo").openid1,code:this.code,bl_id:this.priaceData.id,num:this.priaceData.num,remark:this.priaceData.remark};this.$axios.axios("POST",this.$paths.pay11,i).then((function(n){console.log("下单结果",n),1==n.code?(t.$tools.showToast("下单成功"),t.isshowOrder=!1,o.removeStorageSync("gooodInfoLogin"),t.showphoneClick()):t.$tools.showToast(n.info)})).catch((function(o){console.log("错误回调",o)}))},addCard:function(){for(var t=this,n=!0,e=0;e<this.goodInfo1Sel.length;e++)""==this.goodInfo1Sel[e]&&(n=!1);if(!n)return this.$tools.showToast("请选择完规格，再操作"),!1;var s={openid1:o.getStorageSync("userInfo").openid1,code:this.code,remark:this.priaceData.remark,bl_id:this.priaceData.id};this.$axios.axios("POST",this.$paths.addCar,s).then((function(o){console.log("下单结果",o),1==o.code?(t.$tools.showToast("加入购物车成功"),t.isshowOrder=!1):t.$tools.showToast(o.info)})).catch((function(o){console.log("错误回调",o)}))},clearnoSel:function(o){for(var t=0;t<this.goodInfo1Sel.length;t++)t>o&&(this.goodInfo1Sel[t]="");for(t=0;t<this.goodInfo1.length;t++)t>o&&(this.goodInfo1[t]=[])},goodsChange:function(o,t,n,e){console.log("==",o,t,n,e),n=parseInt(n.detail.value),0==o?n=this.goodInfo1[0][n].brand:1==o?n=this.goodInfo1[1][n].gl:2==o?n=this.goodInfo1[2][n].ysj_num:3==o?n=this.goodInfo1[3][n].wd:4==o?n=this.goodInfo1[4][n].brand:5==o?(n=this.goodInfo1[5][n].zlj,console.log("获取id",this.goodInfo1[o])):6==o&&(this.priaceData.id=this.goodInfo1[o][n].id,n=this.goodInfo1[6][n].xh,console.log("获取id",this.goodInfo1[o])),this.selClick(o,"",n,e)},selClick:function(o,t,e,s){console.log("是",o,t,e,s),this.goodInfo1Sel[o]=e,this.$forceUpdate(),0==o?this.getYasuoData(e):1==o?this.getYsjWd(e):2==o?this.getYsjDy(e):3==o?this.getYsjZlj(e):4==o||5==o?this.getBlXh(e):6==o&&this.getPrice1(e),this.clearnoSel(o),this.goodInfo1Sel[4]="380V",setTimeout((function(o){n.pageScrollTo({scrollTop:Math.ceil(1e4*Math.random())})}),1e3)},getPrice1:function(){var o=this,t={id:this.priaceData.id};this.$axios.axios("POST",this.$paths.getBlPrice,t).then((function(t){console.log("下单结果",t),1==t.code?o.goodPrice=t.data:o.$tools.showToast(t.info)})).catch((function(o){console.log("错误回调",o)}))},getBlXh:function(o){var t=this,n={gl:this.goodInfo1Sel[1],ysj_num:this.goodInfo1Sel[2],wd:this.goodInfo1Sel[3],zlj:this.goodInfo1Sel[5],brand:this.goodInfo1Sel[0]};this.$axios.axios("POST",this.$paths.getBlXh,n).then((function(o){console.log("下单结果",o),1==o.code?(t.goodInfo1[6]=o.data,t.$forceUpdate()):t.$tools.showToast(o.info)})).catch((function(o){console.log("错误回调",o)}))},getBlBrand:function(o){var t=this;this.$axios.axios("POST",this.$paths.getBlBrand,{}).then((function(o){console.log("下单结果",o),1==o.code?(t.goodInfo1[0]=o.data,t.$forceUpdate()):t.$tools.showToast(o.info)})).catch((function(o){console.log("错误回调",o)}))},getYsjZlj:function(o){var t=this,n={brand:this.goodInfo1Sel[0],gl:this.goodInfo1Sel[1].substring(0,this.goodInfo1Sel[1].length-2),ysj_num:this.goodInfo1Sel[2],wd:o};this.$axios.axios("POST",this.$paths.getBlZlj,n).then((function(o){console.log("下单结果",o),1==o.code?(t.goodInfo1[5]=o.data,t.$forceUpdate()):t.$tools.showToast(o.info)})).catch((function(o){console.log("错误回调",o)}))},getYsjDy:function(o){var t=this,n={brand:this.goodInfo1Sel[0],gl:this.goodInfo1Sel[1].substring(0,this.goodInfo1Sel[1].length-2),ysj_num:o};this.$axios.axios("POST",this.$paths.getBlWd,n).then((function(o){console.log("下单结果",o),1==o.code?(t.goodInfo1[3]=o.data,t.$forceUpdate()):t.$tools.showToast(o.info)})).catch((function(o){console.log("错误回调",o)}))},getYsjWd:function(o){var t=this,n={brand:this.goodInfo1Sel[0],gl:o.substring(0,o.length-2)};this.$axios.axios("POST",this.$paths.getBlYsjNum,n).then((function(o){1==o.code?(console.log("===",o.data),t.goodInfo1[2]=o.data,t.$forceUpdate()):t.$tools.showToast(o.info)})).catch((function(o){console.log("错误回调",o)}))},getYasuoData:function(o){var t=this,n={brand:o};this.$axios.axios("POST",this.$paths.getBlGl,n).then((function(o){if(console.log("下单结果",o),1==o.code){for(var n=0;n<o.data.length;n++)o.data[n].gl=o.data[n].gl+"HP";t.goodInfo1[1]=o.data,t.$forceUpdate()}else t.$tools.showToast(o.info)})).catch((function(o){console.log("错误回调",o)}))},updateGoodSpace:function(o,t,n){n=this.addSelList(n),t<=3&&(this.goodInfo1[o]=n),4==t&&(this.goodInfo1[o]=n)},addSelList:function(o){for(var t=0;t<o.length;t++)o[t].sel=!1;return o},showphoneClick:function(){this.showPhone=!this.showPhone},confirmOrder:function(){var t=this,n={code:this.code,goods_sku:this.selInfo[0].sku,openid1:o.getStorageSync("userInfo").openid1};this.$axios.axios("POST",this.$paths.payapi,n).then((function(o){console.log("下单结果",o),1==o.code?(t.$tools.showToast("下单成功"),t.isshowOrder=!1,t.showphoneClick()):t.$tools.showToast(o.info)})).catch((function(o){console.log("错误回调",o)}))},showOrderClick:function(){this.isshowOrder=!this.isshowOrder},isSelGood:function(){for(var o=this.info.goods.data_specs,t=this.info.goods.data_items,n=[],e=0;e<o.length;e++)""!=o[e].sel&&n.push(o[e].sel);if(n.length!=o.length)return console.log("没有选完"),!1;for(e=0;e<t.length;e++){for(var s=n.join(","),i=[],a=0;a<t[e].length;a++)i.push(t[e][a].name);i.join(",")==s&&(console.log("当前选中",t[e]),this.selInfo=t[e])}},getInfo:function(t){var n=this,e={code:this.code,openid1:o.getStorageSync("userInfo").openid1};this.$axios.axios("POST",this.$paths.getGoodsInfo,e).then((function(o){n.info=o.data;var t=n.info.goods.p_num;n.info.goods.data_specs=t,n.getBlBrand()})).catch((function(o){console.log("错误回调",o)}))},aaa:function(){}}};t.default=e}).call(this,n("543d")["default"],n("bc2e")["default"])},"8fb0":function(o,t,n){"use strict";(function(o,t){var e=n("4ea4");n("b7ff");e(n("66fd"));var s=e(n("9868"));o.__webpack_require_UNI_MP_PLUGIN__=n,t(s.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},9868:function(o,t,n){"use strict";n.r(t);var e=n("efa6"),s=n("f7d1");for(var i in s)["default"].indexOf(i)<0&&function(o){n.d(t,o,(function(){return s[o]}))}(i);n("4184");var a=n("f0c5"),c=Object(a["a"])(s["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],void 0);t["default"]=c.exports},efa6:function(o,t,n){"use strict";n.d(t,"b",(function(){return e})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){}));var e=function(){var o=this.$createElement;this._self._c},s=[]},f7d1:function(o,t,n){"use strict";n.r(t);var e=n("898a"),s=n.n(e);for(var i in e)["default"].indexOf(i)<0&&function(o){n.d(t,o,(function(){return e[o]}))}(i);t["default"]=s.a}},[["8fb0","common/runtime","common/vendor"]]]);