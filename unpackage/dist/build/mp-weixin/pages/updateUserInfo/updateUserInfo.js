(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/updateUserInfo/updateUserInfo"],{1126:function(o,e,t){"use strict";var n=t("1ec1"),a=t.n(n);a.a},"15e2":function(o,e,t){"use strict";t.d(e,"b",(function(){return n})),t.d(e,"c",(function(){return a})),t.d(e,"a",(function(){}));var n=function(){var o=this.$createElement;this._self._c},a=[]},"1ec1":function(o,e,t){},"585b":function(o,e,t){"use strict";(function(o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={data:function(){return{form:{c_name:"",c_address:"",consignee:"",job:"",c_phone:"",nickname:"",headimg:""},form1:{headimg:"",nickname:""}}},onLoad:function(){var e=o.getStorageSync("wanshan");e&&(this.form=e);var t=o.getStorageSync("userPhone");t&&(console.log("有手机号",t),this.form.c_phone=t);var n=o.getStorageSync("userForm1");n&&(this.form1=n),this.$forceUpdate(),this.getCompanyInfo()},methods:{toImg:function(){var e=this;o.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album"],success:function(t){t.tempFilePaths.length>0&&o.uploadFile({url:e.$paths.file1Upload,filePath:t.tempFilePaths[0],name:"file",success:function(o){console.log(o.data);var t=JSON.parse(o.data);e.form1.headimg=t.data.url,console.log(t,t.data.url)}})}})},getCompanyInfo:function(){var e=this,t={};t.openid1=o.getStorageSync("userInfo").openid1,this.$axios.axios("POST",this.$paths.getCompanyInfo,t).then((function(t){if(1==t.code){e.form=t.data;var n=o.getStorageSync("userPhone");n&&(console.log("有手机号",n),e.form.c_phone=n)}else e.$tools.showToast(t.info)})).catch((function(o){console.log("错误回调",o)}))},toSubmit:function(){var e=this;if(!this.isSUbmit())return!1;var t=this.form;t.nickname=t.c_name,t.headimg=this.form1.headimg,t.openid1=o.getStorageSync("userInfo").openid1,this.$axios.axios("POST",this.$paths.companyInfoUpdate,t).then((function(n){if(1==n.code){o.setStorageSync("wanshan",t);var a=o.getStorageSync("userInfo");a.headimg=t.headimg,a.nickname=t.nickname,o.setStorageSync("userInfo",a),e.$tools.showToast(n.info);var s=o.getStorageSync("gooodInfoLogin");s?e.getGoodIngo(s.code,s):setTimeout((function(e){o.navigateBack({delta:1})}),1e3)}else e.$tools.showToast(n.info)})).catch((function(o){console.log("错误回调",o)}))},getGoodIngo:function(e,t){return console.log(t),4==t.type?(o.navigateTo({url:"/pages/goodInfo1/goodInfo1?code="+e}),!1):5==t.type?(o.navigateTo({url:"/pages/goodInfo2/goodInfo2?code="+e}),!1):6==t.type?(o.navigateTo({url:"/pages/goodInfo3/goodInfo3?code="+e}),!1):(o.setStorageSync("goodInfo",t),void o.navigateTo({url:"/pages/goodInfo/goodInfo?code="+e}))},isSUbmit:function(){return console.error("阿萨德"),this.form.consignee&&""!=this.form.consignee?this.form.c_address&&""!=this.form.c_address?this.form.c_name&&""!=this.form.c_name?this.form.job&&""!=this.form.job?!(!this.form.c_phone||""==this.form.c_phone)||(this.$tools.showToast("请输入联系电话"),!1):(this.$tools.showToast("请输入职务"),!1):(this.$tools.showToast("请输入姓名"),!1):(this.$tools.showToast("请输入公司地址"),!1):(this.$tools.showToast("请输入公司名称"),!1)}}};e.default=t}).call(this,t("543d")["default"])},7416:function(o,e,t){"use strict";t.r(e);var n=t("585b"),a=t.n(n);for(var s in n)["default"].indexOf(s)<0&&function(o){t.d(e,o,(function(){return n[o]}))}(s);e["default"]=a.a},"7f73":function(o,e,t){"use strict";t.r(e);var n=t("15e2"),a=t("7416");for(var s in a)["default"].indexOf(s)<0&&function(o){t.d(e,o,(function(){return a[o]}))}(s);t("1126");var i=t("f0c5"),c=Object(i["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=c.exports},b316:function(o,e,t){"use strict";(function(o,e){var n=t("4ea4");t("b7ff");n(t("66fd"));var a=n(t("7f73"));o.__webpack_require_UNI_MP_PLUGIN__=t,e(a.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])}},[["b316","common/runtime","common/vendor"]]]);